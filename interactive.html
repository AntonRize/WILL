---
layout: default
title: "Relativistic Foundations"
permalink: /interactive.html
---

<style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            color: #E5E7EB;
            scroll-behavior: smooth;
        }
        .section-title {
            font-size: 2.25rem;
            font-weight: 800;
            color: #F9FAFB;
            margin-bottom: 1rem;
        }
        .narrative-text {
            font-size: 1.125rem;
            line-height: 1.75;
            color: #D1D5DB;
            max-width: 800px;
            margin: 0 auto 2rem auto;
        }
        .card {
            background-color: #1F2937;
            border-radius: 0.75rem;
            padding: 2.5rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            border: 1px solid #374151;
            margin: 4rem auto;
            max-width: 1100px;
        }
        .interactive-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem;
            align-items: center;
        }
        @media (min-width: 1024px) {
            .interactive-container {
                grid-template-columns: 1fr 1fr;
            }
        }
        .canvas-container {
            position: relative;
            width: 100%;
            min-height: 380px;
            margin-left: auto;
            margin-right: auto;
            aspect-ratio: 1 / 1;
        }
        .canvas-container canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #374151;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        .slider:hover {
            opacity: 1;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #2DD4BF;
            cursor: pointer;
            border: 4px solid #1F2937;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #2DD4BF;
            cursor: pointer;
            border: 4px solid #1F2937;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .highlight {
            color: #5EEAD4;
            font-weight: 600;
        }
        .equation-box {
            background-color: #1E293B;
            border-left: 4px solid #38BDF8;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            font-family: monospace;
            font-size: 1.25rem;
            text-align: center;
            margin: 2rem 0;
            color: #E0F2FE;
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s, color 0.3s;
            color: #D1D5DB;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #374151;
            color: #F9FAFB;
        }
        header {
           background-color: rgba(17, 24, 39, 0.8);
        }
        /* Styles for spoiler/details from the new text */
        .spoiler, details {
            background-color: #1e293b;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        summary {
            cursor: pointer;
            font-weight: 600;
            color: #93c5fd;
        }
</style>

<header class="backdrop-blur-lg sticky top-0 z-50 border-b border-gray-700">
    <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
        <h1 class="text-xl font-bold text-gray-100">WILL Geometry</h1>
        <div class="hidden md:flex space-x-1 font-medium text-sm">
            <a href="#postulate" class="nav-link">Postulate</a>
            <a href="#sr" class="nav-link">Act I: SR</a>
            <a href="#gr" class="nav-link">Act II: GR</a>
            <a href="#unification" class="nav-link">Unification</a>
            <a href="#symmetry" class="nav-link">Symmetry</a>
            <a href="#validation" class="nav-link">Validation</a>
            <a href="#dynamics" class="nav-link">Dynamics</a>
            <a href="#conclusion" class="nav-link">Conclusion</a>
        </div>
    </nav>
</header>

<main class="container mx-auto px-4 py-12 md:py-20">

    <section id="hero" class="text-center mb-20 md:mb-32">
        <h1 class="text-4xl md:text-6xl font-extrabold text-gray-50 mb-6 leading-tight">The Shape of Energy</h1>
        <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto mb-8">An interactive exploration of a theory where space, time, and energy are derived from a single, fundamental principle.</p>
        <div class="bg-gray-800 border border-gray-700 shadow-lg rounded-lg p-6 inline-block">
            <p class="text-xl md:text-2xl font-semibold text-cyan-400">SPACETIME &equiv; ENERGY EVOLUTION</p>
        </div>
    </section>

    <section id="postulate" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">What is This Page?</h2>
        </div>
        <p class="narrative-text">
            [cite_start]This interactive page was created to <strong>explain the essential meaning and logic of the WILL Geometry model</strong> — but <strong>without</strong> the heavy mathematical machinery. [cite: 1] [cite_start]Here, the focus is on the core ideas, intuitive explanations, and geometric visualizations, making this new approach to fundamental physics accessible to a much wider audience. [cite: 2] [cite_start]If you want to see the full mathematical derivations, download the complete documents here: <a href="https://antonrize.github.io/WILL/parts/" class="text-cyan-400 hover:underline">Full WILL Geometry Papers</a>. [cite: 3]
        </p>

        <div class="text-center mt-16">
            <h2 class="section-title">The Universe from a Single Principle</h2>
        </div>
        <p class="narrative-text">
            [cite_start]Modern theoretical physics is a magnificent edifice built on the foundation of astonishing predictive power. [cite: 4] [cite_start]Theories of relativity and quantum mechanics describe the world with incredible precision, from subatomic particles to cosmic horizons. [cite: 4] [cite_start]Yet, in this very foundation, there remain enigmatic elements that cast a shadow over the completeness of our understanding: gravitational singularities where known laws break down; [cite: 5] [cite_start]arbitrary constants we can measure but cannot explain; [cite: 6] [cite_start]and the necessity to introduce “dark” entities such as dark matter and dark energy simply to align theory with observation. [cite: 6] [cite_start]These phenomena indicate that our description of reality may be incomplete. [cite: 7]
        </p>
        <p class="narrative-text">
            [cite_start]Against this backdrop, a fundamental question arises: What if we could construct the Universe without any “extraneous details”? [cite: 8] [cite_start]What if all observable phenomena—space, time, mass, energy—could be derived from a single, simple, and self-evident statement, without the need for free parameters or inexplicable constants? [cite: 9] [cite_start]This approach—what might be called the principle of “epistemological hygiene”—demands that we reject all assumptions not strictly necessary, and build the theory solely on the basis of logical sequence. [cite: 10]
        </p>
        <p class="narrative-text">
            [cite_start]It is on this path of uncompromising minimalism that the central, unifying postulate of WILL Geometry is born: [cite: 11]
        </p>
        <div class="max-w-3xl mx-auto">
            <div class="equation-box text-2xl">SPACETIME &equiv; ENERGY EVOLUTION</div>
        </div>
        <p class="narrative-text">
            [cite_start]At first glance, this statement appears simple, but it carries a revolutionary meaning. [cite: 11] [cite_start]It asserts that space and time are not some pre-existing “container” or stage on which physical processes unfold. [cite: 12] [cite_start]On the contrary, the very fabric of spacetime is identical to the full structure of all possible transitions and interconnections between energetic states. [cite: 13] [cite_start]Spacetime is not a stage; it is the dance itself. [cite: 14]
        </p>
    </section>

    <section id="sr" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">Act I: Motion as a Shadow on a Circle</h2>
            <h3 class="text-xl text-gray-300 -mt-2 mb-8">(Special Relativity)</h3>
        </div>
        <p class="narrative-text">
            [cite_start]Now that the rules of the game have been established, let’s consider the simplest case: one-dimensional motion. [cite: 46] [cite_start]According to our logic, this process must be described on the only possible closed and symmetric 1D geometry—the circle. [cite: 47] [cite_start]This act of our narrative is devoted to reconstructing special relativity (SR) using nothing but these geometric tools. [cite: 48]
        </p>
        <h3 class="text-2xl font-bold text-center text-gray-100 mb-4">How Motion and Time Are Two Sides of the Same Coin</h3>
        <p class="narrative-text">
            [cite_start]Imagine all possible states of movement as points around a perfect circle. [cite: 53] [cite_start]The *radius* of this circle is the fastest possible speed in the universe — the universal “speed of change.” [cite: 54] [cite_start]Every moving object is like a pointer from the center of the circle to some spot on its edge. [cite: 55]
        </p>
        <ul class="narrative-text list-disc list-inside">
            [cite_start]<li><strong>Movement:</strong> How fast something moves through space is just “how much” of that pointer is aimed sideways around the circle. [cite: 56] [cite_start]The faster it goes, the more it “leans” into space, and the less is left “pointing” upward — toward time. [cite: 57]</li>
            [cite_start]<li><strong>Time:</strong> How fast time ticks for something is just “how much” of that pointer is aimed along the time direction. [cite: 58] [cite_start]If the object speeds up through space, less of the pointer is left for time — so its time slows down. [cite: 59]</li>
        </ul>
        <div class="max-w-3xl mx-auto">
             <details>
                <summary><strong>Show math</strong></summary>
                The relationship between space and time projections is just Pythagoras’ theorem for a unit circle:<br>
                β = v/c = cos(θ)<br>
                sin(θ) = √(1−β²)
             </details>
        </div>
        <p class="narrative-text">
            [cite_start]When you look at it this way, all the “strange” effects of special relativity — like time slowing down as you go faster — are just the result of keeping the total “speed of change” fixed, but sharing it differently between space and time. [cite: 61]
        </p>
    </section>

    <section id="emc2" class="scroll-mt-20">
        <div class="text-center">
             <h2 class="section-title">The Geometry of E=mc²</h2>
        </div>
         <p class="narrative-text">
            [cite_start]Here’s the coolest part: That famous equation, E = mc², isn’t some magic law — it’s just what you get when you realize energy and mass are two sides of the same coin. [cite: 63] [cite_start]At rest, all of an object’s energy points along the time direction. [cite: 64] [cite_start]When it moves, some energy “tilts” into space — but the total stays balanced, so that the piece along time remains constant. [cite: 65]
        </p>
        <div class="card">
            <div class="interactive-container">
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-gray-100">The Energy-Momentum Triangle</h3>
                    <p class="text-gray-300 mb-6">Visualize energy, mass, and momentum as a simple right triangle. One side (fixed) always represents the object's *rest energy*. The second side grows as the object’s speed increases — this is its *momentum*. [cite_start]The hypotenuse is the *total energy* — it stretches as you go faster. [cite: 69, 70, 71]</p>
                    <label for="emc2-beta-slider" class="font-semibold text-gray-200">Velocity (&beta; = v/c): <span id="emc2-beta-value" class="highlight font-bold">0.650</span></label>
                    <input type="range" min="0" max="0.999" value="0.65" step="0.001" class="slider mt-2 mb-6" id="emc2-beta-slider">
                    
                    <div class="space-y-3 text-lg">
                        <p>Rest Energy (E₀): <span class="highlight">m₀c² (constant)</span></p>
                        <p>Momentum (pc): <span id="emc2-pc-value" class="highlight">0.855</span> m₀c</p>
                        <p>Total Energy (E): <span id="emc2-energy-value" class="highlight">1.316</span> m₀c²</p>
                    </div>
                     <div class="equation-box text-lg">E² = (pc)² + (m₀c²)²</div>
                </div>
                <div class="canvas-container">
                    <canvas id="emc2-canvas"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section id="gr" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">Act II: Gravity as a Shadow on a Sphere</h2>
            <h3 class="text-xl text-gray-300 -mt-2 mb-8">(General Relativity)</h3>
        </div>
        <p class="narrative-text">
            [cite_start]Having cracked motion using a simple circle, let’s tackle gravity. [cite: 80] [cite_start]Gravity is different: instead of working in one direction, like motion, it pulls equally from every side — like being surrounded in all directions. [cite: 81] [cite_start]So our “canvas” has to be not a line or circle, but a whole <strong>sphere</strong>. [cite: 82]
        </p>
        <p class="narrative-text">
            [cite_start]Imagine standing at the center of a big sphere — gravity “spreads out” the same in every direction from the mass at the center. [cite: 83] [cite_start]To measure “how much” gravity there is, we use a new slider — let’s call it <strong>kappa</strong> (κ). [cite: 84] [cite_start]It tells us how close you are to the point where gravity is so strong that nothing, not even light, can escape — the edge of a black hole. [cite: 85] [cite_start]If κ = 0, there's no gravity; if κ = 1, you’re at the event horizon. [cite: 86, 87]
        </p>
         <div class="card">
            <div class="interactive-container">
                 <div class="canvas-container">
                    <canvas id="gr-canvas"></canvas>
                </div>
                <div class="flex flex-col justify-center">
                    <h3 class="text-2xl font-bold mb-4 text-gray-100">Gravity and Time Dilation</h3>
                    [cite_start]<p class="text-gray-300 mb-6">As you get closer to a massive object, κ goes up, and time starts to slow down. [cite: 90] [cite_start]If you reach the event horizon (κ = 1), time (from an outside view) stops completely. [cite: 91]</p>
                    <label for="kappa-slider" class="font-semibold text-gray-200">Gravity (&kappa;): <span id="kappa-value" class="highlight font-bold">0.500</span></label>
                    <input type="range" min="0" max="0.999" value="0.5" step="0.001" class="slider mt-2 mb-6" id="kappa-slider">
                    
                    <div class="space-y-3 text-lg">
                        <p>Radius (r): <span id="radius-value" class="highlight">4.00</span> Rₛ</p>
                        <p>Grav. Time Dilation (T_c): <span id="time-contraction-value" class="highlight">0.866</span></p>
                        <p>Clocks run <span id="gr-time-dilation-value" class="highlight">13.4%</span> slower.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="unification" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">Unification: When the Circle Meets the Sphere</h2>
        </div>
        <p class="narrative-text">
            [cite_start]Now comes the punchline: All this time, we’ve seen motion (special relativity) and gravity (general relativity) as separate “shadows” of the same underlying process, just playing out on different shapes — the circle and the sphere. [cite: 101] [cite_start]But here’s the twist: <strong>these two worlds aren’t really separate.</strong> In fact, there’s a deep, built‑in connection between them. [cite: 102, 103]
        </p>
        <p class="narrative-text">
            Energy sometimes shows up as *motion* (moving around the circle) and sometimes as *gravity* (spread over the sphere). [cite_start]But both are just different ways of splitting up the same “energy budget.” [cite: 106, 107]
        </p>
        <div class="max-w-3xl mx-auto">
            <details>
                <summary><strong>Show the key connection</strong></summary>
                <p>The “paint” covering for both shapes leads to a simple rule:</p>
                $$ \kappa^2 = 2\beta^2 $$
                or
                $$ \frac{\kappa^2}{\beta^2} = 2 $$
                where β² is the “share” spent on motion and κ² is the “share” spent on gravity.
            </details>
        </div>
        <p class="narrative-text">
           [cite_start]This isn’t some made‑up or “fit” formula. [cite: 108] [cite_start]It pops out just from how geometry itself works — how lines and surfaces relate. [cite: 109]
        </p>
        <div class="card">
            <div class="interactive-container">
                <div class="flex flex-col justify-center">
                    <h3 class="text-2xl font-bold mb-4 text-gray-100">Unified Energy Budget</h3>
                    <div class="mb-6">
                        <label for="unif-slider" class="font-semibold text-gray-200">Control Parameter (&kappa;): <span id="unif-kappa-display" class="highlight font-bold">0.631</span></label>
                        <input type="range" min="0" max="1.413" value="0.631" step="0.001" class="slider mt-2" id="unif-slider">
                    </div>
                    <div class="grid grid-cols-2 gap-x-8 gap-y-4 text-lg p-4 bg-gray-900 rounded-lg">
                        <div>&kappa; (Potential): <span id="unif-kappa-value" class="highlight">0.631</span></div>
                        <div>&beta; (Kinetic): <span id="unif-beta-value" class="highlight">0.446</span></div>
                        <div>&theta; G (from &kappa;): <span id="unif-thetaG-value" class="highlight">39.12°</span></div>
                        <div>&theta; S (from &beta;): <span id="unif-thetaS-value" class="highlight">63.50°</span></div>
                        <div>T_c = cos(&theta; G): <span id="unif-Tc-value" class="highlight">0.776</span></div>
                        <div>L_c = sin(&theta; S): <span id="unif-Lc-value" class="highlight">0.895</span></div>
                    </div>
                    <div id="photon-sphere-indicator" class="mt-4 text-center text-cyan-400 font-bold text-lg opacity-0 transition-opacity">Photon Sphere: r = 1.5 Rₛ</div>
                </div>
                <div class="canvas-container">
                    <canvas id="unification-canvas"></canvas>
                </div>
            </div>
        </div>
    </section>
    
    <section id="symmetry" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">Energy–Symmetry Law</h2>
            <h3 class="text-xl text-gray-300 -mt-2 mb-8">(Why There's No Free Lunch)</h3>
        </div>
        <p class="narrative-text">
            [cite_start]Whenever you compare two observers (say, someone on the ground and someone in orbit), <strong>the energy differences they see will always perfectly balance out.</strong> No matter how you swap perspectives — nobody ever gets “extra” energy for free. [cite: 128] [cite_start]This is the universe’s built-in law of energetic fairness. [cite: 129]
        </p>
         <div class="max-w-3xl mx-auto">
             <details>
                <summary>Show the math</summary>
                $$ \Delta E_{A \to B} + \Delta E_{B \to A} = 0 $$
                [cite_start]<p>Each transfer includes both gravitational ($\kappa^2$) and kinetic ($\beta^2$) parts, always balancing out. [cite: 134]</p>
             </details>
        </div>
        <p class="narrative-text">
            [cite_start]This “energy symmetry” is so strict that it naturally sets the universe’s ultimate speed limit. [cite: 138] [cite_start]If something *could* go faster than light, the balance would be broken — one observer would see “extra” energy appear out of nowhere. [cite: 138] [cite_start]That’s not allowed: **causality and energy symmetry would both collapse.** [cite: 139] [cite_start]So, the speed of light isn’t just a cosmic “speed trap” — it’s the built-in edge of energetic fairness. [cite: 140]
        </p>
    </section>

    <section id="validation" class="scroll-mt-20">
        <div class="text-center">
            <h2 class="section-title">Grounding the Vision</h2>
        </div>
         <p class="narrative-text">
            [cite_start]A theory, no matter how beautiful, is just a clever idea until it passes real-world tests. [cite: 163] [cite_start]This section is devoted to grounding the abstract vision of WILL Geometry by demonstrating that it makes precise, testable predictions about real physical phenomena. [cite: 165] [cite_start]Let’s examine two key examples, which serve as rigorous empirical tests of the entire theoretical construction. [cite: 166]
        </p>
        <div class="card">
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-gray-900 p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4 text-gray-100">1. GPS Time Correction</h3>
                    [cite_start]<p class="text-gray-300 mb-4">The Global Positioning System (GPS) is the ideal laboratory for testing relativistic effects. [cite: 167] For it to work, satellites must account for two effects:</p>
                     <ul class="text-gray-300 list-disc list-inside mb-4">
                        [cite_start]<li><strong>SR effect:</strong> Satellites move at high speed, which causes their clocks to run slower. [cite: 168]</li>
                        [cite_start]<li><strong>GR effect:</strong> Satellites are in weaker gravity, which causes their clocks to run faster. [cite: 170]</li>
                    </ul>
                    [cite_start]<p class="text-gray-300 mb-4">WILL Geometry unifies these effects (via κ² = 2β²) into a single parameter. [cite: 172]</p>
                    <hr class="my-2 border-gray-600">
                    <p class="text-center mt-4 text-lg">Prediction: <span class="highlight font-bold">~38 microseconds/day</span></p>
                    [cite_start]<p class="text-center text-sm text-gray-400">This exactly matches the empirically measured value. [cite: 174]</p>
                </div>
                <div class="bg-gray-900 p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4 text-gray-100">2. Mercury's Orbital Precession</h3>
                    [cite_start]<p class="text-gray-300 mb-4">One of the earliest triumphs of GR was explaining the anomalous shift of Mercury’s orbit (43 arcseconds/century). [cite: 178, 179]</p>
                    <div class="canvas-container !aspect-video !min-h-[250px]">
                       <canvas id="mercury-canvas"></canvas>
                    </div>
                     [cite_start]<p class="mt-4 text-sm text-gray-400 text-center">WILL Geometry's result matches both GR and observational data with machine-level precision. [cite: 180]</p>
                </div>
            </div>
        </div>
    </section>

    <section id="dynamics" class="scroll-mt-20">
            <div class="text-center">
                <h2 class="section-title">A New Reality of Change</h2>
                <h3 class="text-xl text-gray-300 -mt-2 mb-8">(Dynamics Without Time)</h3>
            </div>
            <p class="narrative-text">
                [cite_start]Let’s get to the wildest part of WILL Geometry: <strong>What if time isn’t fundamental at all?</strong> In “classic” physics, time is like a river: everything *happens inside* this flow. [cite: 186, 187]
            </p>
             <p class="narrative-text">
                [cite_start]But in WILL Geometry, it’s the other way around: There’s no separate “river” of time. [cite: 188] [cite_start]There are just possible states — all the ways the universe could be, as long as they satisfy the balance equations. [cite: 189] [cite_start]*Change* is just moving from one balanced state to another. [cite: 190] [cite_start]Any change in one parameter instantly forces all others to adjust, so the system stays in balance. [cite: 191]
            </p>
            <div class="max-w-3xl mx-auto">
                <div class="equation-box text-2xl">Time does not drive change — instead, change defines time.</div>
            </div>
            <p class="narrative-text">
                [cite_start]This view might actually solve deep puzzles — like the “problem of time” in quantum gravity — where it’s unclear how to even define time in the first place. [cite: 197]
            </p>
    </section>

     <section id="conclusion" class="scroll-mt-20">
            <div class="text-center">
                <h2 class="section-title">Conclusion: The World as a Projection</h2>
            </div>
            <p class="narrative-text">
                [cite_start]We started with one simple idea: <strong>Spacetime is just energy in motion.</strong> From this, logic alone led us to circles and spheres as the natural “shapes” of the universe, relativity as a projection on these shapes, and the deep unification of motion and gravity. [cite: 202] [cite_start]This journey uncovered a hidden unity behind the laws of physics, replacing arbitrary rules with pure geometry and energy flow. [cite: 202]
            </p>
            <p class="narrative-text font-bold text-center text-gray-100 text-xl">
                 [cite_start]Energy doesn’t just exist in space — it *creates* space, by its projection. [cite: 204]
            </p>
            <p class="narrative-text">
                 [cite_start]All of physics becomes a story about “the projective curvature of the energy flow.” [cite: 205] [cite_start]And the essence of it all is captured in a single, dimensionless invariant: [cite: 205]
            </p>
            <div class="max-w-3xl mx-auto">
                 <details>
                    <summary><strong>Show the Final Invariant</strong></summary>
                    $$ W_{\text{ill}} = \frac{E \cdot T^2}{M \cdot L^2} = 1 $$
                    [cite_start]<p class="mt-2">Energy, mass, time, and length — not disconnected ideas, but tightly bound faces of a single self-consistent structure. [cite: 206]</p>
                 </details>
            </div>
    </section>

</main>

<footer class="text-center py-10 border-t border-gray-700 mt-20">
    <p class="text-gray-400">Based on the work "WILL: Unified Framework" by Anton Rize.</p>
    <p class="text-sm text-gray-500 mt-2">For the full mathematical theory, see: 
        <a href="https://antonrize.github.io/WILL/parts/" class="text-cyan-400 hover:underline">Full Papers</a> & 
        <a href="https://antonrize.github.io/WILL/results/" class="text-cyan-400 hover:underline">Results & Applications</a>
    </p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- Global Elements & State ---
    const elements = {
        navLinks: document.querySelectorAll('.nav-link'),
        sections: document.querySelectorAll('section[id]'),
        
        emc2: {
            slider: document.getElementById('emc2-beta-slider'),
            value: document.getElementById('emc2-beta-value'),
            pcValue: document.getElementById('emc2-pc-value'),
            energyValue: document.getElementById('emc2-energy-value'),
            canvas: document.getElementById('emc2-canvas'),
            ctx: null
        },
        gr: {
            slider: document.getElementById('kappa-slider'),
            value: document.getElementById('kappa-value'),
            radiusValue: document.getElementById('radius-value'),
            timeContractionValue: document.getElementById('time-contraction-value'),
            grTimeDilationValue: document.getElementById('gr-time-dilation-value'),
            canvas: document.getElementById('gr-canvas'),
            ctx: null
        },
        unif: {
            slider: document.getElementById('unif-slider'),
            canvas: document.getElementById('unification-canvas'),
            photonIndicator: document.getElementById('photon-sphere-indicator'),
            displays: {
                kappa: document.getElementById('unif-kappa-value'),
                beta: document.getElementById('unif-beta-value'),
                thetaG: document.getElementById('unif-thetaG-value'),
                thetaS: document.getElementById('unif-thetaS-value'),
                Tc: document.getElementById('unif-Tc-value'),
                Lc: document.getElementById('unif-Lc-value'),
                kappaSlider: document.getElementById('unif-kappa-display')
            },
            ctx: null
        },
        mercury: {
            canvas: document.getElementById('mercury-canvas'),
            ctx: null,
            precessionAngle: 0,
            orbitAngle: 0,
            animationFrameId: null
        }
    };

    // --- Canvas Setup ---
    const setupCanvas = (canvas) => {
        if (!canvas) return null;
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        if (rect.width === 0 || rect.height === 0) return null;
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        const ctx = canvas.getContext('2d');
        ctx.scale(dpr, dpr);
        return ctx;
    };

    // --- Drawing Functions ---
    function drawEmc2() {
        if (!elements.emc2.ctx) return;
        const ctx = elements.emc2.ctx;
        const { clientWidth: width, clientHeight: height } = elements.emc2.canvas;
        ctx.clearRect(0, 0, width, height);

        const beta = parseFloat(elements.emc2.slider.value);
        const gamma = 1 / Math.sqrt(1 - beta * beta);
        const p_val = gamma * beta;
        
        const padding = 40;
        const E0_height = Math.min(height / 3, 100);
        const max_p_width = width - padding * 2;
        const p_width = p_val * (max_p_width / 5);

        const origin = { x: padding, y: height - padding };
        const p_end = { x: origin.x + p_width, y: origin.y };
        const E0_end = { x: p_end.x, y: p_end.y - E0_height };

        ctx.beginPath();
        ctx.moveTo(origin.x, origin.y);
        ctx.lineTo(p_end.x, p_end.y);
        ctx.lineTo(E0_end.x, E0_end.y);
        ctx.closePath();
        ctx.fillStyle = 'rgba(45, 212, 191, 0.1)';
        ctx.fill();
        ctx.strokeStyle = '#2DD4BF';
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(origin.x, origin.y);
        ctx.lineTo(E0_end.x, E0_end.y);
        ctx.strokeStyle = '#5EEAD4';
        ctx.lineWidth = 3;
        ctx.stroke();

        ctx.fillStyle = '#E5E7EB';
        ctx.font = 'bold 14px Inter';
        ctx.textAlign = 'center';
        ctx.fillText('pc', origin.x + p_width / 2, origin.y + 20);
        ctx.textAlign = 'left';
        ctx.fillText('m₀c²', p_end.x + 10, origin.y - E0_height / 2);
        
        ctx.save();
        ctx.translate(origin.x + p_width / 2, origin.y - E0_height / 2);
        ctx.rotate(Math.atan2(-E0_height, p_width));
        ctx.textAlign = 'center';
        ctx.fillText('E', 0, -10);
        ctx.restore();
    }
    
    function drawGR() {
        if (!elements.gr.ctx) return;
        const ctx = elements.gr.ctx;
        const { clientWidth: width, clientHeight: height } = elements.gr.canvas;
        ctx.clearRect(0, 0, width, height);
        
        const kappa = parseFloat(elements.gr.slider.value);
        const tc = Math.sqrt(1 - kappa * kappa);

        const center = { x: width / 2, y: height / 2 };
        const radius = Math.min(width, height) * 0.45;
        
        ctx.beginPath();
        ctx.arc(center.x, center.y, radius, 0, 2 * Math.PI);
        ctx.strokeStyle = '#4B5563';
        ctx.lineWidth = 1;
        ctx.stroke();
        
        const xPos = center.x + radius * tc;
        const yPos = center.y - radius * kappa;

        ctx.beginPath();
        ctx.moveTo(center.x, center.y);
        ctx.lineTo(xPos, center.y);
        ctx.strokeStyle = '#9CA3AF';
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.fillStyle = '#D1D5DB';
        ctx.font = 'bold 14px Inter';
        ctx.textAlign = 'center';
        ctx.fillText('T_c', center.x + radius * tc / 2, center.y + 20);

        ctx.beginPath();
        ctx.moveTo(xPos, center.y);
        ctx.lineTo(xPos, yPos);
        ctx.strokeStyle = '#2DD4BF';
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.textAlign = 'left';
        ctx.fillText('κ', xPos + 10, center.y - radius * kappa / 2);

        ctx.beginPath();
        ctx.moveTo(center.x, center.y);
        ctx.lineTo(xPos, yPos);
        ctx.strokeStyle = '#5EEAD4';
        ctx.lineWidth = 3;
        ctx.stroke();
    }
    
    function drawUnification() {
        if(!elements.unif.ctx) return;
        const ctx = elements.unif.ctx;
        const { clientWidth: width, clientHeight: height } = elements.unif.canvas;
        ctx.clearRect(0, 0, width, height);

        const kappa = parseFloat(elements.unif.slider.value);
        const beta = Math.sqrt(kappa * kappa / 2);

        const center = { x: width / 2, y: height / 2 };
        const radius = Math.min(width, height) * 0.45;
        
        ctx.beginPath();
        ctx.arc(center.x, center.y, radius, 0, 2 * Math.PI);
        ctx.strokeStyle = '#4B5563';
        ctx.lineWidth = 1;
        ctx.stroke();
        
        const thetaG = Math.asin(kappa > 1 ? 1 : kappa);
        const tc = Math.cos(thetaG);
        const grX = center.x + radius * tc;
        const grY = center.y - radius * kappa;

        ctx.beginPath();
        ctx.moveTo(center.x, center.y);
        ctx.lineTo(grX, grY);
        ctx.strokeStyle = '#A78BFA';
        ctx.lineWidth = 3;
        ctx.stroke();
        
        const thetaS = Math.acos(beta > 1 ? 1 : beta);
        const lc = Math.sin(thetaS);
        const srX = center.x + radius * beta;
        const srY = center.y - radius * lc;

        ctx.beginPath();
        ctx.moveTo(center.x, center.y);
        ctx.lineTo(srX, srY);
        ctx.strokeStyle = '#2DD4BF';
        ctx.lineWidth = 3;
        ctx.stroke();

        ctx.fillStyle = '#E5E7EB';
        ctx.font = 'bold 14px Inter';
        ctx.fillText('κ', grX - 25, grY);
        ctx.fillText('β', srX, srY + 25);
    }

    function animateMercury() {
        if(!elements.mercury.ctx) {
            elements.mercury.animationFrameId = requestAnimationFrame(animateMercury);
            return;
        };
        const ctx = elements.mercury.ctx;
        const { clientWidth: width, clientHeight: height } = elements.mercury.canvas;
        ctx.clearRect(0, 0, width, height);

        const center = { x: width / 2, y: height / 2 };
        const a = width * 0.45;
        const b = a * 0.8; 

        elements.mercury.orbitAngle += 0.02;
        elements.mercury.precessionAngle += 0.0001;
        if (elements.mercury.orbitAngle > 2 * Math.PI) elements.mercury.orbitAngle -= 2 * Math.PI;

        ctx.fillStyle = '#FBBF24';
        ctx.beginPath();
        ctx.arc(center.x, center.y, 8, 0, 2 * Math.PI);
        ctx.fill();

        ctx.save();
        ctx.translate(center.x, center.y);
        ctx.rotate(elements.mercury.precessionAngle);
        ctx.beginPath();
        ctx.ellipse(0, 0, a, b, 0, 0, 2 * Math.PI);
        ctx.strokeStyle = 'rgba(45, 212, 191, 0.7)';
        ctx.setLineDash([]);
        ctx.lineWidth = 2;
        ctx.stroke();
        
        const planetX = a * Math.cos(elements.mercury.orbitAngle);
        const planetY = b * Math.sin(elements.mercury.orbitAngle);
        ctx.fillStyle = '#E5E7EB';
        ctx.beginPath();
        ctx.arc(planetX, planetY, 5, 0, 2 * Math.PI);
        ctx.fill();
        ctx.restore();

        elements.mercury.animationFrameId = requestAnimationFrame(animateMercury);
    }

    // --- Update Functions ---
    function updateEmc2() {
        if (!elements.emc2.slider) return;
        const beta = parseFloat(elements.emc2.slider.value);
        const gamma = 1 / Math.sqrt(1 - beta * beta);
        elements.emc2.value.textContent = beta.toFixed(3);
        elements.emc2.pcValue.textContent = (gamma * beta).toFixed(3);
        elements.emc2.energyValue.textContent = gamma.toFixed(3);
        drawEmc2();
    }

    function updateGR() {
        if (!elements.gr.slider) return;
        const kappa = parseFloat(elements.gr.slider.value);
        const kappa_sq = kappa * kappa;
        const radius = 1 / (kappa_sq > 0 ? kappa_sq : 0.00001);
        const tc = Math.sqrt(1 - kappa_sq);
        elements.gr.value.textContent = kappa.toFixed(3);
        elements.gr.radiusValue.textContent = radius.toFixed(2);
        elements.gr.timeContractionValue.textContent = tc.toFixed(3);
        elements.gr.grTimeDilationValue.textContent = ((1 / tc - 1) * 100).toFixed(1) + '%';
        drawGR();
    }

    function updateUnification() {
        if (!elements.unif.slider) return;
        const kappa = parseFloat(elements.unif.slider.value);
        const beta = Math.sqrt(kappa * kappa / 2);
        const thetaG_rad = Math.asin(kappa > 1 ? 1 : kappa);
        const thetaS_rad = Math.acos(beta > 1 ? 1 : beta);
        
        const d = elements.unif.displays;
        d.kappa.textContent = kappa.toFixed(3);
        d.beta.textContent = beta.toFixed(3);
        d.thetaG.textContent = (thetaG_rad * 180 / Math.PI).toFixed(2) + '°';
        d.thetaS.textContent = (thetaS_rad * 180 / Math.PI).toFixed(2) + '°';
        d.Tc.textContent = Math.cos(thetaG_rad).toFixed(3);
        d.Lc.textContent = Math.sin(thetaS_rad).toFixed(3);
        d.kappaSlider.textContent = kappa.toFixed(3);

        const combined_sq = kappa*kappa + beta*beta;
        elements.unif.photonIndicator.style.opacity = Math.abs(combined_sq - 1.0) < 0.002 ? '1' : '0';
        drawUnification();
    }

    // --- Initialization and Resize ---
    let resizeTimer;
    function initializeAndDrawAll() {
        elements.emc2.ctx = setupCanvas(elements.emc2.canvas);
        elements.gr.ctx = setupCanvas(elements.gr.canvas);
        elements.unif.ctx = setupCanvas(elements.unif.canvas);
        elements.mercury.ctx = setupCanvas(elements.mercury.canvas);

        updateEmc2();
        updateGR();
        updateUnification();

        if (elements.mercury.animationFrameId) {
            cancelAnimationFrame(elements.mercury.animationFrameId);
        }
        animateMercury();
    }
    
    function onResize() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(initializeAndDrawAll, 100);
    }

    function init() {
        // Setup Nav
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    elements.navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').substring(1) === entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, { root: null, rootMargin: '-20% 0px -70% 0px', threshold: 0 });
        elements.sections.forEach(section => {
            if (section) observer.observe(section);
        });

        // Attach Event Listeners
        if (elements.emc2.slider) elements.emc2.slider.addEventListener('input', updateEmc2);
        if (elements.gr.slider) elements.gr.slider.addEventListener('input', updateGR);
        if (elements.unif.slider) elements.unif.slider.addEventListener('input', updateUnification);
        
        window.addEventListener('resize', onResize);

        initializeAndDrawAll();
    }

    init();
});
</script>